<!doctype html>
<html>
  <head>
    <meta charset="utf-8"/>
    <title>Data Fetcher Elements</title>
    <link rel="icon" href="./web-components-logo.png"/>
    <link rel="stylesheet" href="./index.css" />
    
    <script type="module" src="./custom-elements.js"></script>

  </head>
  <body>
    <h1>Data Fetcher Elements</h1>
    <hr/>
    <div class="demo-container">
      <h3>HTTP Data Fetcher</h3>
      <http-data-fetcher
        url="http://localhost:8081/data/0">
        Fetch Data
      </http-data-fetcher>
      <div id="res-http" class="result"></div>
      <script>
        document.querySelector('http-data-fetcher')
          .addEventListener('data-loaded', (e) => {
            document.getElementById('res-http').textContent = e.data;
          });
      </script>
    </div>
    <hr/>
    <div class="demo-container">
      <h3>Websocket Data Fetcher</h3>
      <websocket-data-fetcher
        url="ws://localhost:8082">
        Fetch Data
      </websocket-data-fetcher>
      <div id="res-websocket" class="result"></div>
      <script>
        document.querySelector('websocket-data-fetcher')
          .addEventListener('data-loaded', (e) => {
            document.getElementById('res-websocket').innerHTML += `<div>${e.data}</div>`;
          });
      </script>
    </div>
  </body>
</html>
